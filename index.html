<!DOCTYPE html>
<html lang="en">
	<head>
		<title>AB-DOC</title>
  
		<meta charset="utf-8">  

		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Favicon -->
		<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png?ver=v0">
		<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png?ver=v0">
		<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png?ver=v0">
		<link rel="manifest" href="manifest.json?ver=v0">
		<link rel="shortcut icon" href="favicon.ico?ver=v0">
		<meta name="theme-color" content="#ffffff">
  
		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css?ver=v0">
		<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css?ver=v0">
		<link rel="stylesheet" type="text/css" href="css/ztree/zTreeStyle.css?ver=v0">
		<!--link rel="stylesheet" type="text/css" href="css/bsSplitter/styles.css"-->
		<link rel="stylesheet" type="text/css" href="css/quill/quill.core.css?ver=v0">
		<link rel="stylesheet" type="text/css" href="css/quill/quill.bubble.css?ver=v0">
		<link rel="stylesheet" type="text/css" href="css/quill/Jason_Chen.Quill.css?ver=v0">
		<link rel="stylesheet" type="text/css" href="css/ab/core.css?ver=v0">
		<link rel="stylesheet" type="text/css" href="css/ab/task.1.css?ver=v0">
		<link rel="stylesheet" type="text/css" href="css/ab/task.2.messages.css?ver=v0">
		<!--link rel="stylesheet" type="text/css" href="/css/jquery-ui.min.css"-->
		
		<script src="scripts/jquery/jquery-3.1.1.min.js?ver=v0"></script>
		<script src="scripts/popper.js/popper.min.js?ver=v0"></script>
		<script src="scripts/bootstrap/bootstrap.min.js?ver=v0"></script>
		<!--script src="scripts/jquery/ui/1.12.1/jquery-ui.js"></script-->
		<script src="scripts/jsbn/jsbn.js?ver=v0"></script>
		<script src="scripts/jsbn/jsbn2.js?ver=v0"></script>
		<script src="scripts/sjcl/sjcl.js?ver=v0"></script>
		<script src="scripts/momentjs/moment.min.js?ver=v0"></script>
		<script src="scripts/amazon/cognito/aws-cognito-sdk.min.js?ver=v0"></script>
		<script src="scripts/amazon/cognito/amazon-cognito-identity.min.js?ver=v0"></script>
		<script src="scripts/amazon/aws-sdk.js?ver=v0"></script>
		
		<script src="scripts/ztree/jquery.ztree.core.js?ver=v0"></script>
		<script src="scripts/ztree/jquery.ztree.excheck.js?ver=v0"></script>
		<script src="scripts/ztree/jquery.ztree.exedit.js?ver=v0"></script>

		<!--script src="scripts/bsSplitter/jquery.bsSplitter.js"></script-->
		
		<script src="scripts/quill/quill.js?ver=v0"></script>
		<!--script src="scripts/quill/Jason_Chen.Quill.min.js"></script-->
		
		<script src="scripts/ab/my.tmp.js?ver=v0"></script>

		<script src="scripts/main.js?ver=v0"></script>
		
		<style type="text/css">
			body html {
				margin: 0;
				height: 100%;
				overflow: hidden;
			}
			
			a.navbar-brand img{
				height: 42px;
			}
			
			.node_name {
				font-size: 15px;
				margin-left: 4px;
				vertical-align: middle;
			}
			
			.ztree li a.curSelectedNode {
				background-color: inherit;
				border: inherit;
				border-left: 4px solid #dd6600;
				margin-left: -10px;
				padding-left: 6px;
				font-weight: bold;
			}
			
			.ztree li span.button.add {
				margin-left:2px;
				margin-right: -1px;
				background: url(/img/icons/file.svg);
				vertical-align: vertical;
				/*vertical-align:middle;*/
			}
			
			.ztree li span.button {
				background-position: 0px 0px !important;
				background-size: contain !important;
				background-repeat: no-repeat !important;
				width: 20px !important;
				height: 20px !important;
				margin: 2px 2px 0px 0px !important;
			}
			
			span.remove {
				width: 24px;
				height: 24px;
				background-image: url(/img/icons/trash.svg);
				background-size: contain;
				background-repeat: no-repeat;
			}
			
			.ztree li a {
				line-height: 24px !important;
				height: 24px !important;
			}
			
			.ztree li span.button {
				background-image: none;
			}
		
			.ztree li span.button.remove {
				background: url(/img/icons/trash.svg);
			}
			
			.ztree li span.button.edit {
				background: url(/img/icons/edit.svg);
			}
			
			.ztree li span.button.ico_close {
				background: url(/img/icons/folder.svg);
			}
			
			.ztree li span.button.ico_open {
				background: url(/img/icons/folder-open.svg);
			}
			
			.ztree li span.button.switch.center_close {
				background-image: none;
			}
			
			.ztree li span.button.switch.center_open {
				background-image: none;
			}

			.ztree li span.button.switch.root_close {
				background-image: none;
			}
			
			.ztree li span.button.switch.root_open {
				background-image: none;
			}

			.ztree li span.button.ico_docu {
				background-image: url(/img/icons/file.svg);
			}
					
			.ztree li span.button.center_docu {
				background-image: none;
			}	

			.ztree li span.button.bottom_docu {
				background-image: none;
			}

			.ztree li span.button.bottom_close {
				background-image: none;
			}

			.ztree li span.button.bottom_open {
				background-image: none;
			}
			
			.ztree li ul.line {
				background-image: none;
				background-size: 24px 24px;
			}
			
			.ztree li[class*=level] {
				margin-top: 8px;
			}
			
			input.rename {
				font-size: 15px !important;
				height: 24px !important;
			}
			
			#ztree-div {
				overflow: hidden;
				text-overflow: ellipsis;
				position: absolute;
				left: 0px;
				width: 25%;
				top: 0px;
				bottom: 0px;
				overflow-y: auto;
				padding: 30px 20px 20px 20px;
			}
			
			#ztree-div.ab-closed {
				/*width: 0px !important;*/
				padding: 0px;
			}
			
			#document {
				border-style: none;
				position: absolute;
				left: 25%;
				width: 75%;
				top: 0px;
				bottom: 0px;
				overflow-x: hidden;
				owerflow-y: auto;
				padding: 30px 20px 20px 20px;
			}
			
			#document.ab-closed {
				/*left: 12px !important;*/
			}
			
			#splitter {
				cursor: col-resize;
				border-left: 1px solid;
				border-color: #b0b0b0;
				position: absolute;
				width: 12px;
				top: 0px;
				bottom: 0px;
				margin: 20px 0px;
				display: block;
			}
			
			#splitter.ab-closed {
				border-style: none;
				cursor: auto;
			}
			
			#splitter.thin {
				width: 0px;
				padding: 0px;
				margin: 0px 0px;
			}

			/*#ztree-div:not(.ab-dragging), #splitter:not(.ab-dragging), #document:not(.ab-dragging),*/ #toggleButton {
				/* temporarly disabled. it adds horizontal scroll, when it's on the right size of page.*/
				/*transition: all 0.3s ease 0.0s;*/
			}
			
			#toggleButton {
				cursor: pointer;
				position: relative;
				top: 45px;
				border: solid;
				border-width: 1px;
				border-color: inherit;
				width: 20px;
				height: 40px;
				background-color: #ffffff;
				background-size: contain;
				background-repeat: no-repeat;
				background-position: center;
				z-index: 1000;
			}
			
			#toggleButton.ab-opened {
				background-image: url(/img/icons/chevron-left.svg);
				border-right-color: #ffffff;
				border-top-left-radius: 5px;
				border-bottom-left-radius: 5px;
				margin-left: -20px;
			}

			#toggleButton.ab-closed {
				background-image: url(/img/icons/chevron-right.svg);
				border-left-color: #ffffff;
				border-top-right-radius: 5px;
				border-bottom-right-radius: 5px;
				margin-left: -1px;
			}
			
			.app-container {
				position: absolute;
				/*top: 100px;*/
				height: 400px;
				width: 100%;
			}
			
			.filedrag {
				border-style: none;
			}

			#updated {
				margin-left: 12px;
			}
			
			div.clip {
				background-image: url(/img/icons/paperclip2.svg);
				background-repeat: no-repeat;
				background-size: contain;
				
				position: absolute;
				width: 48px;
				height: 64px;
				top: -20px;
				right: 6px;
				
				cursor: pointer;
			}
			
			div.clip:hover {
				background-image: url(/img/icons/paperclip3.svg);
			}

			#dropzone {
				width: 78px;
				border-style: none;
				padding-left: 8px;
				margin-bottom: 8px;
				cursor: auto !important;
			}

			#dropzone.used {
				width: 300px;
				background-color: #f8f8f8;
				border: 1px dashed #C0C0C0;
			}
			
			#dropzone.highlighted {
				width: 300px;
				min-height: 120px;
				background-color: #fff0f0;
				border: 1px dashed #000000;		
			}
			
			#dropzone.highlighted ul:empty::after {
				content: attr(data-empty-message);
				position: relative;
				top: 25px;
			}
			
			img.file-icon {
				width: 38px;
				height: 38px;
				float: left;
				margin-top: 4px;
			}
			
			
			/*==================*/
			/* dropzone's files */
			/*==================*/
			
			ul.files li {
				clear: both;
				margin-top: 12px;
				height: 46px;
			}
			
			ul.files .file-name {
				width: 228px;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap; 
				display: inline-block;
				vertical-align: top;
			}
			
			ul.files .file-name * {
				display: inline-block;
				vertical-align: top;
				font-size: 16px;
			}
			
			/* file name without extension */
			ul.files .file-name .fn {
				max-width: 160px;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap; 
			}		

			/* file extension */
			ul.files .file-name .fe {
				max-width: 50px;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap; 
			}	
			
			ul.files .file-size {
				overflow: hidden;
				height: 20px;
				text-overflow: ellipsis;
				display: inline-block;
				vertical-align: top;
			}

			ul.files .file-modified {
				overflow: hidden;
				height: 20px;
				text-overflow: ellipsis;
				display: inline-block;
				vertical-align: top;
				color: #777;
				margin-top: 3px;
				font-size: 12px;
			}
			
			ul.files .progress {
				text-align: left;
				width: 200px;
				height: 20px;
				display: inline-block;
			}
			
			ul.files .progress-bar {
				color: #000000;
				height: 18px;
				background-color: #ffd098;
				padding-left: 4px;
				white-space: nowrap;
				font-size: 14px;
				padding-top: 1px;
			}
			
			ul.files .file-question {
				display: inline-block;
				height: 18px;
			}
						
			/* first file */
			
			ul.files li:first-child {
				width: 250px;
			}
			
			ul.files *:first-child .file-name {
				width: 196px;
			}
			
			ul.files *:first-child .file-name .fn {
				max-width: 144px;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap; 
			}	
						
			ul.files *:first-child .progress {
				width: 160px;
			}			
			
			
			
			div.cross {
				width: 18px;
				height: 18px;
				display: inline-block;
				background-image: url(/img/icons/trash.svg);
				background-size: contain;
				background-repeat: no-repeat;
				margin-left: 8px;
				margin-top: 1px;
				cursor: pointer;
			}	
			
			/* canvas looks weird when setting size with css*/
			#sizeIndicator {
				width: 24px;
				height: 24px;
			}
			
			#updated {
				width: 24px;
				height: 24px;
			}
			
			.file-name a {
				text-decoration: none;
				border-bottom: 1px solid transparent;
				height: 23px;
			}
			
			.file-name a:hover {
				border-bottom: 1px solid rgb(0, 123, 255);
			}
			
			#document h2 {
				margin-bottom: 16px;
			}
		</style>
		
		<style type="text/css">
			.preloader {
			  display: inline-block;
			  overflow: hidden;
			  height: 1.3em;
			  line-height: 1.5em;
			  vertical-align: text-bottom;
			  font-size: 48px;
			  margin-top: 100px;
			  transform: rotate(90deg);
			}

			.preloader::after {
			  display: inline-table;
			  white-space: pre;
			  text-align: left;
			}

			.preloader::after {
			  content: "⠋\A⠙\A⠹\A⠸\A⠼\A⠴\A⠦\A⠧\A⠇\A⠏";
			  animation: spin 2s steps(10) infinite;
			}
			
			@keyframes spin  { to { transform: translateY( -15.0em); } }
			
			.small-preloader {
				width: 40px;
				text-align: center;
			}

			.small-preloader > div {
				width: 8px;
				height: 8px;
				margin: 1px;
				background-color: #606060;

				border-radius: 100%;
				display: inline-block;
				animation: sk-bouncedelay 0.9s infinite ease-in-out both;
			}

			.small-preloader .bounce1, .big-preloader .bounce1{
				animation-delay: -0.30s;
			}

			.small-preloader .bounce2, .big-preloader .bounce1 {
				animation-delay: -0.15s;
			}

			.big-preloader {
				width: 80px;
				text-align: center;
			}

			.big-preloader > div {
				width: 16px;
				height: 16px;
				margin: 2px;
				background-color: #606060;

				border-radius: 100%;
				display: inline-block;
				animation: sk-bouncedelay 0.9s infinite ease-in-out both;
			}

			@keyframes sk-bouncedelay {
				0%{ 
					transform: scale(0);
				}
				50% { 
					transform: scale(1.0);
				}
				100% { 
					transform: scale(0.0);
				}
			}
		</style>
		
		<style type="text/css">
			.navbar {
				padding-bottom: 4px;
				padding-top: 4px;
				z-index: 1001;
			}
			
			.navbar-dark .navbar-text {
				color: #ffffff;				
			}
			
			.nav-item {
				margin-left: 4px;
				margin-right: 4px;
			}
			
			.nav-item > select.form-control {
				font-size: 14px;
				height: 28px !important;
				padding: 4px;
				/*it doesn't work ---> vertical-align: middle;*/
				margin-top: 4px;
			}
			
			
		</style>
	</head>
 	<body>
		<nav class="navbar navbar-expand-md navbar-dark bg-dark bd-navbar">
			<a class="navbar-brand" href="#"><img src="/img/Logo.png"></a>
			<canvas class="authenticated-mode" id="sizeIndicator" width="24" height="24"></canvas>
			<img src="/img/icons/compose_my.svg" class="authenticated-mode" id="updated">
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse justify-content-end" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item authenticated-mode">
						<span class="navbar-text" id="username">Name</span>
					</li>
					<li class="nav-item">
						<select class="form-control" id="selectLang">
							<option value="ru">Ру</option>
							<option value="en">En</option>
						</select>
					</li>
					<li class="nav-item authenticated-mode">
						<a class="navbar-text" id="linkSignOut" data-translate="exit" href="#"></a>
					</li>
					<li class="nav-item unauthenticated-mode">
						<a class="navbar-text" id="linkSignIn" data-translate="enter" href="#"></a>
					</li>
					<li class="nav-item unauthenticated-mode">
						<a class="navbar-text" id="linkSignUp" data-translate="signUp" href="#"></a>
					</li>
				</ul>
			</div>
		</nav>

		<div class="container-fluid">
			<!--div class="row justify-content-center">
				<div class="alert alert-danger collapse col-4" role="alert" id="alertError" style="z-index: 1045;">
					<span id="spanSomethingWentWrong" data-translate="somethingWentWrong"></span>
					<a href="/index.html" id="linkReturn" data-translate="return"></a>
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>	
			</div-->

			<div class="row preloader-container justify-content-center">
				<div class="big-preloader" style="margin-top: 80px;"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>
			</div>
 			
 			<div class="row app-container">
				<div id="ztree-div" class="ab-opened">
					<ul id="abTree" class="ztree"></ul>
				</div>
				<div id="splitter" class="ab-opened">
					<div id="toggleButton" class="ab-opened">
					</div>
				</div>
				<div id="document" class="ab-opened">
					<h2 id="selectedDoc"></h2>
					<div id="editor-wrap">
						<div id="dropzone-wrap" class="float-right" style="z-index: 1000;">
							<div id="dropzone" class="filedrag" style="z-index: 1005;">
								<div class="clip">
									<input id="clip" class="clip" name="clip" multiple="multiple" type="file" style="z-index: 1010;">
								</div>
								<ul id="files" class="files" waiting="0" attr-translate="data-empty-message" data-translate="emptyDropzoneMessage"></ul>
							</div>
						</div>
						<div id="editor" class="message-content" waiting="0" modified="0"></div>
					</div>
				</div>
 			</div>
 			
 			<!-- Modal Delete -->
 			<div id="modalDelete" class="modal fade" role="dialog">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title" data-translate="deleteTitle"></h4>
						</div>
						<div class="modal-body">
							<p id="pDeleteMessage"></p>
						</div>
						<div class="modal-footer">
							<button id = "buttonDelete" type="submit" class="btn btn-primary" data-dismiss="modal" data-translate="ok"></button>
							<button type="button" class="btn btn-secondary" data-dismiss="modal" data-translate="cancel"></button>
						</div>
					</div>
				</div>
 			</div>

 			<!-- Modal Sign In -->
 			<div id="modalSignIn" class="modal fade" role="dialog">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title" data-translate="loginPage"></h4>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="container-fluid">
								<form>
									<div class="row">
										<div class="form-group">
											<div class="alert alert-danger collapse col-12" role="alert" id="alertSignInError"></div>
										</div>							
										<div class="form-group input-group">
											<span class="input-group-addon" data-translate="email"></span>
											<input id="signInEmail" type="text" class="form-control" attr-translate="placeholder" data-translate="yourEmail"></input>
										</div>
										<div class="form-group input-group">
											<span class="input-group-addon" data-translate="password"></span>
											<input id="signInPassword" type="password" class="form-control" attr-translate="placeholder" data-translate="yourPassword"></input>
										</div>
										<div class="form-group input-group" id="divSignInConfirmationCode">
											<span class="input-group-addon" data-translate="confirmationCode"></span>
											<input id="signInConfirmationCode" type="text" class="form-control" attr-translate="placeholder" data-translate="yourConfirmationCode"></input>
										</div>
										<div class="form-group input-group">
											<span class="input-group-btn">
												<button id="btnSignIn" class="btn btn-secondary" type="submit" data-translate="enter"></button>
											</span>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
 			</div>
 			
 			<!-- Modal Sign Up -->
 			<div id="modalSignUp" class="modal fade" role="dialog">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title" data-translate="registration"></h4>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<form>
								<div class="container-fluid">
									<div class="row">
										<div class="form-group">
											<div class="alert alert-danger collapse col-12" role="alert" id="alertSignUpError"></div>
										</div>							
										<div class="form-group input-group">
											<span class="input-group-addon" data-translate="email"></span>
											<input id="signUpEmail" type="text" class="form-control" attr-translate="placeholder" data-translate="yourEmail"></input>
										</div>
										<div class="form-group input-group">
											<span class="input-group-addon" data-translate="password"></span>
											<input id="signUpPassword" type="password" class="form-control" attr-translate="placeholder" data-translate="yourPassword"></input>
										</div>
										<div class="form-group input-group">
											<span class="input-group-addon" data-translate="password"></span>
											<input id="signUpRepeatPassword" type="password" class="form-control" attr-translate="placeholder" data-translate="repeatPassword"></input>
										</div>
										<div class="form-group input-group" id="divSignUpConfirmationCode">
											<span class="input-group-addon" data-translate="confirmationCode"></span>
											<input id="signUpConfirmationCode" type="text" class="form-control" attr-translate="placeholder" data-translate="yourConfirmationCode"></input>
										</div>
										<div class="form-group input-group">
											<span class="input-group-btn">
												<button id="btnSignUp" class="btn btn-secondary" type="submit" data-translate="signUp2"></button>
											</span>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
 			</div>
 			
		</div>
	</body>
</html>
